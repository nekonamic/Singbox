<Page
    x:Class="Singbox.Views.Pages.OverviewPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Singbox.Views.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="OverviewPage"
    d:DataContext="{d:DesignInstance local:OverviewPage,
                                     IsDesignTimeCreatable=False}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
    ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    mc:Ignorable="d">

    <Grid VerticalAlignment="Top" >
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <UniformGrid Rows="2" Columns="2" Margin="0,0,0,12" HorizontalAlignment="Stretch">

            <!-- Status -->
            <ui:Card Margin="0,0,8,8">
                <StackPanel>
                    <TextBlock Text="Status" FontWeight="Bold" FontSize="16" Margin="0,0,0,8" />
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Memory"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding MemoryUsage, StringFormat={}{0} MB}"
                           HorizontalAlignment="Right" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Goroutines"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding Goroutines, StringFormat={}{0}}"
                           HorizontalAlignment="Right" />
                    </Grid>
                </StackPanel>
            </ui:Card>

            <!-- Connections -->
            <ui:Card Margin="0,0,8,8">
                <StackPanel>
                    <TextBlock Text="Connections" FontWeight="Bold" FontSize="16" Margin="0,0,0,8" />
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Inbound"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding Inbound, StringFormat={}{0}}"
                           HorizontalAlignment="Right" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Outbound"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding Outbound, StringFormat={}{0}}"
                           HorizontalAlignment="Right" />
                    </Grid>
                </StackPanel>
            </ui:Card>

            <!-- Traffic -->
            <ui:Card Margin="0,0,8,8">
                <StackPanel>
                    <TextBlock Text="Traffic" FontWeight="Bold" FontSize="16" Margin="0,0,0,8" />
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Uplink"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding UplinkSpeed, StringFormat={}{0}}"
                           HorizontalAlignment="Right" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Downlink"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding DownlinkSpeed, StringFormat={}{0}}"
                           HorizontalAlignment="Right" />
                    </Grid>
                </StackPanel>
            </ui:Card>

            <!-- TrafficTotal -->
            <ui:Card Margin="0,0,8,8">
                <StackPanel>
                    <TextBlock Text="TrafficTotal" FontWeight="Bold" FontSize="16" Margin="0,0,0,8" />
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Uplink"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding TotalUplink, StringFormat={}{0}}"
                           HorizontalAlignment="Right" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                           Text="Downlink"
                           HorizontalAlignment="Left" />

                        <TextBlock Grid.Column="1"
                           Text="{Binding TotalDownlink, StringFormat={}{0}}"
                           HorizontalAlignment="Right" />
                    </Grid>
                </StackPanel>
            </ui:Card>
        </UniformGrid>
        
        <ui:Card Grid.Row="1" Margin="0,0,0,32" >
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                   Text="HTTP Proxy"
                   HorizontalAlignment="Left" />

                <ui:ToggleSwitch Grid.Column="1" OnContent="{Binding IsHttpProxyEnabled}" HorizontalAlignment="Right" />
            </Grid>
        </ui:Card>

        <TextBlock Grid.Row="2" Text="Profile" FontWeight="Bold" FontSize="16" Margin="0,0,0,8" />
        
        <ui:Card Grid.Row="3">
            <StackPanel Orientation="Vertical">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0"
                       Text="profile local"
                       HorizontalAlignment="Left" />

                    <RadioButton Grid.Column="1"
                         IsChecked="{Binding IsLocalProfileSelected}"
                         Command="{Binding SelectLocalProfileCommand}" 
                         FlowDirection="RightToLeft">
                    </RadioButton>
                </Grid>
            </StackPanel>
        </ui:Card>
    </Grid>
</Page>
